<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
<link rel="stylesheet" type="text/css" href="../css/general.css"/>
<style type="text/css">
		.datoGral{font-size:8px;}
		.ui-layout-west .ui-layout-unit-header {
			    color: white;
			    /*background:rgb(0,128,192);*/
			    background:rgb(71,193,4);
			    
			}
			.ui-layout-west .ui-layout-unit-content{
				/*background:rgb(0,128,192);*/
			}
			.restricted{overflow-y: hidden;}
a{
	text-decoration: none;
}			
#startOnlineLogo{
	position: relative;
    top: 10px;
    right: 0px;
    left: 25px;
}
#startPalabra{
	position: relative;
    top: 8px;
    right: 0px;
    left: 25px;
    color: red;
    font-size: 22pt;
    font-weight:demi-bold;
    font-family: monospace;
}
#onPalabra{
position: relative;
    top: 8px;
    right: 0px;
    left: 21px;
    color: blue;
    font-size: 22pt;
    font-weight:100;
    font-family: monospace;
}
#linePalabra{
position: relative;
    top: 8px;
    right: 0px;
    left: 18px;
    color: red;
    font-size: 22pt;
    font-weight:100;
    font-family: monospace;
}
#misNotasPalabra{
	position: relative;
    top: 16px;
    right: 0px;
    left: 550px;
    color: black;
    font-size:14pt;
    font-weight:100;
    font-family: serif;
}
#posiNotpng{
	position:relative;
    top: 0px;
    right: 0px;
    left: 608px;
}
#salirPng{
	position:relative;
    top: 0px;
    right: 0px;
    left: 750px;
}
#salirPalabra{
	position:relative;
    top: 14px;
    right: 0px;
    left: 722px;
    color: blue;
    font-size:12pt;
    font-weight:100;
    font-family: serif;
}
#perfilPng{
	position:relative;
    top: 2px;
    right: 0px;
    left: 590px;
}

#perfilPalabra{
	position: relative;
    top: 16px;
    right: 0px;
    left: 540px;
    color: black;
    font-size:14pt;
    font-weight:100;
    font-family: serif;
}

#ayudaPng{
	position:relative;
    top: 2px;
    right: 0px;
    left: 580px;
}
#ayudaPalabra{
	position: relative;
    top: 16px;
    right: 0px;
    left: 535px;
    color: black;
    font-size:14pt;
    font-weight:100;
    font-family: serif;
}
</style> 
<script type="text/javascript">


	//<![CDATA[ 
	function direcciona(link,topicId){
		
		//var text = window.parent.document.getElementById('menuCursos').getElementsByTagName('a')[0].click();
		var lol = window.parent.document.getElementById('contenPrincipal');
		//lol.src = "/joappWeb/carousel/visualizaVideo.xhtml?linkTopic="+link+"&topicId="+topicId;
		lol.src = "/joappWeb/administracion/miPerfil.xhtml";
		//var media = window.parent.document.getElementById('clicVideo').click();
		
		}
	//]]> 
	//<![CDATA[ 
	function direcciona2(){
		
		//var text = window.parent.document.getElementById('menuCursos').getElementsByTagName('a')[0].click();
		var lol = window.parent.document.getElementById('contenPrincipal');
		//lol.src = "/joappWeb/carousel/visualizaVideo.xhtml?linkTopic="+link+"&topicId="+topicId;
		lol.src = "/joappWeb/administracion/ayuda.xhtml";
		//var media = window.parent.document.getElementById('clicVideo').click();
		
		}
	//]]> 
</script>	 	   
</h:head>
<h:body>

<h:form id="frmGuardaNota">		
<p:growl id="notaGuardada" showDetail="true" autoUpdate="true"/>    
<p:dialog header="#{dialogNotesBean.nomNota}"
		  widgetVar="dlg2" 
		  maximizable="true" 
		  minimizable="true"
		  id="dlgNvaNota"
		  hideEffect="clip">
  
	<div>
	
	    <p:commandButton id="btnGuardaNota" 
						 value="Guardar" 
						 actionListener="#{dialogNotesBean.guardaNota}"
		                 icon="ui-icon-disk"/>
		             
	</div>           
	<p:spacer height="10px" width="10px"/>  
	<p:editor id="editor" 
			  value="#{dialogNotesBean.contentNote}" 
			  width="600"/>

</p:dialog>
</h:form>
<h:form id="frmNomNota">
<!-- Le asigna un  nombre a la nota -->
<p:dialog header="Nombre de la nota" 
		  widgetVar="dlg3" 
		  modal="true"
		  id="dlgNomNota">

 <p:panel header="Asigna un nombre a tu nota">
  <p:panelGrid columns="2">
 	<p:row>
 		<p:column>
 			<h:outputText value="Nombre de la nota: "/>
 		</p:column>
 		<p:column>
 			<p:inputText id="nombre_nota" value="#{dialogNotesBean.nomNota}" required="true" validatorMessage="Introduce el nombre de tu nota"/>
 			
 		</p:column>
 		
 	</p:row>
 	<p:row>
 		<p:column colspan="2">
 			<p:commandButton value="Listo" actionListener="#{dialogNotesBean.generaNomNota}" oncomplete="PF('dlg3').hide();" update=":frmdialog:tblNotes"/>
 		</p:column>
 	</p:row>
  </p:panelGrid>
 </p:panel>
 <p:messages id="msgGuardaNota" autoUpdate="true"/>
</p:dialog>

</h:form> 

<h:form id="frmdialog">
<p:dialog header="Mis notas" 
		  widgetVar="dlg" 
		  modal="true" 
		  resizable="false"
		  showEffect="slide"
		  hideEffect="fold"
		  id="id_notas">

 
 	
 			<p:panelGrid styleClass="borderCero">
				<p:row>
					<p:column>
					 <p:commandLink  onclick="PF('dlg3').show();">
						<p:graphicImage style="cursor:pointer" value="/images/Create.png" title="Nueva nota"/>
					 </p:commandLink>
					</p:column>
				</p:row>
			</p:panelGrid> 
         
            <p:dataTable var="note" value="#{dialogNotesBean.listNotas}"
            			 id="tblNotes" 
            		     scrollable="true" 
            		     scrollWidth="500" 
            		     scrollHeight="300"
            		     style="width:430px;">
                <p:column rendered="false">
                	<h:outputText value="#{note.noteId}" />  
                </p:column>
     
                <p:column headerText="Nombre" style="text-align:center;
                									 font:normal bold 110% normal;
                									 color:black;
                									 width:135px;">  
                    <h:outputText value="#{note.noteName}" />  
                </p:column>  
  
                <p:column headerText="Abrir" style="text-align:center;
                								    width:105px;">
                <p:commandLink actionListener="#{dialogNotesBean.getValueNotes(note.noteId,note.noteName)}" 
                			   oncomplete="PF('dlg2').show();PF('dlg').hide();" update=":frmGuardaNota">  
                    <h:graphicImage value="/images/Note_Yellow.png" style="cursor:pointer" title="Abrir nota"/>
                </p:commandLink>  
                </p:column>  
  
                <p:column headerText="Eliminar" style="text-align:center;">
                	<p:commandLink id="linkBorraNota" 
                				   actionListener="#{dialogNotesBean.borraNota(note.noteId)}"
                				   oncomplete="PF('dlg').show();"
                				   update=":frmdialog:tblNotes">  
                    	<h:graphicImage value="/images/eliminar.png" style="cursor:pointer;" title="Eliminar nota"/>
                    	<p:confirm header="Confirmación" message="¿Estas seguro que deseas eliminar esta nota?" icon="ui-icon-alert"/>
                    </p:commandLink>
                    <!-- Este mensaje no se muestra de deja por si se llega a averiguar despues. -->
                    <p:growl id="msgEliminar" showDetail="true"/>
                    <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">  
				        <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>  
				        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close"/>       
				    </p:confirmDialog>   
                </p:column>
                
            </p:dataTable>

</p:dialog> 
</h:form>
<div id="copy" style="position: absolute;left: 80%;top:2%; z-index: 100">
<span style="font-size: 9pt;color: white;">© Copyright 2014 Webnode AG. All rights reserved.</span>
</div> 	
<p:layout fullPage="true" widgetVar="layoutWdgt">  
	  
<p:layoutUnit position="north" size="100" 
			  styleClass="headColor" 
			  header="Bienvenido: #{studentPersonalBean.givenNames}" 
			  resizable="true" 
			  closable="false" 
			  collapsible="false">

	<div id="divHeader" style="height: 50px;border: black solid 0px ;">
	 <a id="logoStart" href="" >
	   <img src="../images/headset_icono.png"  id="startOnlineLogo"/>
	   <span id="startPalabra">start</span>
	   <span id="onPalabra">On</span>
	   <span id="linePalabra">line</span>
	 </a>
	 <p:commandLink oncomplete="PF('dlg').show();" update=":frmdialog"> 
	 	<img id="posiNotpng" src="../images/Notes-32.png"   />
 	     <span id="misNotasPalabra">Mis notas</span>
	 </p:commandLink>
	 
	  <p:commandLink onclick="javascript:direcciona()" >
	 	  <img id="perfilPng" src="../images/perfil_32.png"   />
 	      <span id="perfilPalabra">Mi perfil</span>
	 </p:commandLink>

	 <p:commandLink onclick="javascript:direcciona2()" >
	 	  <img id="ayudaPng" src="../images/pregunta.png"   />
 	      <span id="ayudaPalabra">Ayuda</span>
	 </p:commandLink>

	  <p:commandLink action="#{loginBean.salir}"> 
	 	<img id="salirPng" src="../images/exit2.png"   />
 	     <span id="salirPalabra">Salir</span>
	 </p:commandLink>

	</div>
</p:layoutUnit>

  <!-- 
    <p:layoutUnit position="south" size="25"  resizable="true" closable="false" collapsible="true">  
        <p:lightBox id="lightPie">
        <h:outputLink value="#" id="clicVideo">
        	<h:outputText value="© Copyright 2014 Webnode AG. All rights reserved." />
        </h:outputLink>
        <f:facet name="inline">
         
        <p:media value="http://vimeo.com/moogaloop.swf?clip_id=18079550"
		  					         width="400" 
		  					         height="225"
		  					         player="flash"/>
        
    </f:facet>  
       </p:lightBox>
        
        	<h:outputText value="© Copyright 2014 Webnode AG. All rights reserved." />

    </p:layoutUnit>  
  -->
    <p:layoutUnit id="menuCursos" 
    			  position="west" 
    			  size="300" 
    			  header="MENU DE CURSOS" 
    			  resizable="true" 
    			  closable="false" 
    			  collapsible="true" collapsed="javascript:colapsa()">
    
        <ui:include src="/oeste/creaArbol.xhtml" />

    </p:layoutUnit>  
   
    <p:layoutUnit id="layeste" position="east" size="200" header="Right" visible="false">  

    </p:layoutUnit>  
   
    
    <p:layoutUnit id="layCenter" position="center">  

       <h:form id="frameContent" style="height:100%;" class="restricted"> 
         
        <iframe id="contenPrincipal" 
                src="#{arbolCursosBean.pageLink}"
                width="100%"  
                height="100%"
                frameborder="0" />  
        
        </h:form>
	
   
  <!--
    <h:form id="frameContent"> 
     <p:outputPanel id="contenPrincipal" widgetVar="oupnl" layout="block">
   		<ui:include src="#{arbolCursosBean.pageLink}"/>
   		
    </p:outputPanel>
     
  </h:form>
  --> 
  
</p:layoutUnit>
</p:layout>

</h:body>
</html>