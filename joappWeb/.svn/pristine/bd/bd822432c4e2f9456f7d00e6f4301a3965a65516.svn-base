<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<h:head>
	<link rel="stylesheet" type="text/css" href="../css/general.css" />
</h:head>
<h:body>
<h:form id="frmCursos">
  <p:growl id="msgs" showDetail="true" />
	<center>
		<p:accordionPanel id="apanel"  activeIndex="#{agregaContenidoBean.activeIndex}">
        <p:tab title="Cursos">
        	<p:dataTable id="courses" var="cur" value="#{agregaContenidoBean.listCourses}" selectionMode="single" selection="#{agregaContenidoBean.selectedCurso}" rowKey="#{cur.id_curso}">
		        <f:facet name="header">
		            Busqueda de cursos
			        </f:facet>
					<p:ajax event="rowSelect" listener="#{agregaContenidoBean.onRowSelect}"     update=":frmCursos:apanel" />
			        
			  <p:columns value="#{agregaContenidoBean.columns}" var="column" columnIndexVar="colIndex" sortBy="#{cur[column.property]}" filterBy="#{cur[column.property]}">
			            <f:facet name="header">
			                <h:outputText value="#{column.header}" />
			            </f:facet>
			            <h:outputText value="#{cur[column.property]}" />
			  </p:columns>
			</p:dataTable>
        </p:tab>
       
        <p:tab title="Unidades" id="tabUnits">
        	 <p:dataTable id="units" var="uni" value="#{agregaContenidoBean.listUnits}" selectionMode="single" selection="#{agregaContenidoBean.selectedUnidad}" rowKey="#{uni.unidad_id}">
		        <f:facet name="header">
		            Busqueda de unidades
			        </f:facet>
					<p:ajax event="rowSelect" listener="#{agregaContenidoBean.onRowSelectUidad}"     update=":frmCursos:apanel" />
			        
			  <p:columns value="#{agregaContenidoBean.columnsUnits}" var="column" columnIndexVar="colIndex" sortBy="#{uni[column.property]}" filterBy="#{uni[column.property]}">
			            <f:facet name="header">
			                <h:outputText value="#{column.header}" />
			            </f:facet>
			            <h:outputText value="#{uni[column.property]}" />
			  </p:columns>
			</p:dataTable>
        </p:tab>
      
        <p:tab title="Topics" id="tabTopics">
        	 <p:dataTable id="topics" var="top" value="#{agregaContenidoBean.listTopics}" selectionMode="single" selection="#{agregaContenidoBean.selectedTopic}" rowKey="#{top.id_topic}">
		        <f:facet name="header">
		            Busqueda de Temas
			        </f:facet>
					<p:ajax event="rowSelect" listener="#{agregaContenidoBean.onRowSelectTopics}"     update=":frmCursos:apanel" />
			        
			  <p:columns value="#{agregaContenidoBean.columnsTopics}" var="column" columnIndexVar="colIndex" sortBy="#{top[column.property]}" filterBy="#{top[column.property]}">
			            <f:facet name="header">
			                <h:outputText value="#{column.header}" />
			            </f:facet>
			            <h:outputText value="#{top[column.property]}" />
			  </p:columns>
			</p:dataTable>
        </p:tab>
        <p:tab title="contenido">
       
        	<p:panelGrid>
        	
        		<p:row>
        			<p:column>
        				<h:outputText value="link del video: " styleClass="etiqueta2"/>
        				
        			</p:column>
        			<p:column>
        				<p:inputText label="link Video" value="#{agregaContenidoBean.linkVideo}"/>
        			</p:column>
        		</p:row>
        		<p:row>
        			<p:column colspan="2" style="text-align:center;">
        				<p:commandButton value="Guardar" actionListener="#{agregaContenidoBean.guardaLinkVideo}" update=":frmCursos:apanel"/>
        				 <p:messages id="msgLinkVideo" showDetail="true"/>
        			</p:column>
        		</p:row>
        	</p:panelGrid>
        </p:tab>
    </p:accordionPanel>
	</center>
<p:ajaxStatus style="width:16px;height:16px;" id="ajaxStatusPanel">
    <f:facet name="start">
        <h:graphicImage value="../images/ajax-loader.gif" />
    </f:facet>
     
    <f:facet name="complete">
        <h:outputText value="" />
    </f:facet>
</p:ajaxStatus>
</h:form>
</h:body>
</html>