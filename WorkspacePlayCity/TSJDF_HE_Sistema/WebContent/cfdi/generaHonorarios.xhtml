<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui">
<h:head>
<style type="text/css">

.ui-widget,.ui-widget .ui-widget {
	   font-size: small;
	}
.ui-panelgrid>*>tr,
.ui-panelgrid .ui-panelgrid-cell {
    border: none;
}
</style>
</h:head>
<h:body>
<div style="text-align: center">
<h2><span>Honorarios Asimilables</span></h2>
</div>
<h:form id="frmGenera">
<p:growl id="msgApper" showDetail="false"/>
<p:panel id="pnlArchivo" header="Selecciona archivo de Honorarios"  style="margin-bottom:20px">
<p:panelGrid>
	<p:row>
		<p:column>
			<p:messages id="msgFile" autoUpdate="false" showDetail="false" closable="false"/>
		</p:column>
	</p:row>
	<p:row>
    	<p:column>
   			
   			<p:fileUpload fileUploadListener="#{honorariosCfdi.uploadHonorarios}"
   						  mode="advanced" 
   						  dragDropSupport="true"
            			  update="msgFile" 
            			  sizeLimit="1000000" 
            			  fileLimit="1" 
            			  allowTypes="/(\.|\/)(xls|xlsx)$/"
            			  invalidSizeMessage="El tamaño del archivo sobrepasa el limite"
         				  invalidFileMessage="El formato debe ser txt"
         				  fileLimitMessage="Solo puedes agregar un archivo por sesion vuelve a cargar la pagina" />
 
			
   		</p:column>
    </p:row>
</p:panelGrid>
</p:panel>

<p:panel id="pnlArchivoPercep" header="Selecciona archivo de Percepciones y deducciones"  style="margin-bottom:20px">
<p:panelGrid id="gridNomina">
	<p:row>
		<p:column colspan="2">
			<p:messages id="msgFile2" autoUpdate="false" showDetail="false" closable="false"/>
		</p:column>
	</p:row>
	<p:row>
    	<p:column colspan="2">
   			
   			<p:fileUpload fileUploadListener="#{honorariosCfdi.uploadPercep}"
   						  mode="advanced" 
   						  dragDropSupport="true"
            			  update="msgFile2" 
            			  sizeLimit="1000000" 
            			  fileLimit="1" 
            			  allowTypes="/(\.|\/)(xls|xlsx)$/"
            			  invalidSizeMessage="El tamaño del archivo sobrepasa el limite"
         				  invalidFileMessage="El formato debe ser txt"
         				  fileLimitMessage="Solo puedes agregar un archivo por sesion vuelve a cargar la pagina" />
 
			
   		</p:column>
    </p:row>
    <p:row>
        		<p:column>
        			<p:outputLabel value="Fecha Paga:" for="txtFechaPaga"/>
        		</p:column>
        		<p:column>
        			<p:calendar id="txtFechaPaga" required="true" value="#{honorariosCfdi.fechaPaga}" pattern="dd/MM/yyyy" />
        			<p:outputLabel style="color:gray;" value="* Para Fines del nombrado de la carpeta"/>
				</p:column>
     </p:row>
    <p:row>
      	<p:column>
      			<p:outputLabel value="Fecha Emisión:" for="txtFechaEmision"/>
      		</p:column>
      		<p:column>
			<p:calendar id="txtFechaEmision" required="true" value="#{honorariosCfdi.fechaEmision}" pattern="yyyy-MM-dd HH:mm:ss" />
		</p:column>
      	</p:row>
      	<p:row>
      		<p:column>
      			<p:outputLabel value="Descripción:" for="txtDescripcion"/>
      		</p:column>
      		<p:column>
			<p:inputText id="txtDescripcion" value="#{honorariosCfdi.descripcion}"  required="true" style="width: 400px;"/>
		</p:column>
     </p:row>
     <p:row>
        		<p:column>
        			<p:outputLabel value="Token" for="idToken"/>
        		</p:column>
        		<p:column>
					<p:selectOneRadio id="idToken" value="#{honorariosCfdi.token}" required="true">
			            <f:selectItem itemLabel="Producción" itemValue="produccion" />
			            <f:selectItem itemLabel="Pruebas"    itemValue="pruebas" />
			        </p:selectOneRadio>
        		</p:column>
       </p:row>
    <p:row>
    		<p:column colspan="4" style="text-align:center;">
    			<p:commandButton value="Generar Honorarios" actionListener="#{honorariosCfdi.generaHonorarios}" update=":frmGenera:gridNomina"/>
    		</p:column>
    </p:row>
</p:panelGrid>
<div style="text-align:center;width: 100%;border: 0px solid black;">
        	<p:ajaxStatus style="width:100%;height:16px;align:center;" id="ajaxStatusPanel">
						    <f:facet name="start">
						    	<p:outputLabel value="Este proceso puede tardar varios minutos por favor espere..."/><br/>
						        <h:graphicImage value="../resources/images/ajax-loader.gif" />
						    </f:facet>
						     
						    <f:facet name="complete">
						        <h:outputText value="" />
						    </f:facet>
			</p:ajaxStatus>
        </div>
</p:panel>
</h:form>
</h:body>

</html>